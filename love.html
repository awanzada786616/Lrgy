<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Live Sports Home - Demo</title>

  <!-- hls.js for playing m3u8 -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.0/dist/hls.min.js"></script>

  <style>
    :root{
      --bg:#111;
      --card:#1a1a1a;
      --accent:#ff6b35;
      --muted:#bdbdbd;
      --white:#fff;
    }
    *{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{margin:0; background:var(--bg); color:var(--white);}
    .container{max-width:420px; margin:0 auto; width:100%; padding:12px 14px 50px;}
    .greeting{font-size:20px; font-weight:700; margin:6px 0 12px;}

    /* Carousel */
    .carousel{position:relative; width:100%; height:160px; border-radius:18px; overflow:hidden; background:#222;}
    .carousel-track{display:flex; height:100%; transition:transform 600ms ease;}
    .carousel-item{min-width:100%; height:100%; position:relative; padding:8px;}
    .carousel-item img{width:100%; height:100%; object-fit:cover; border-radius:14px; display:block;}
    .carousel-dot-wrap{position:absolute; left:12px; bottom:12px; display:flex; gap:8px;}
    .dot{width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,0.3); cursor:pointer;}
    .dot.active{background:var(--accent);}

    /* Live sports grid */
    .section-title{color:var(--accent); margin:18px 0 8px; font-weight:700;}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:12px;}
    .card{background:var(--card); border-radius:10px; padding:6px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.6); cursor:pointer;}
    .card img{width:100%; height:66px; object-fit:cover; border-radius:8px;}
    .card p{margin:8px 4px 4px; font-size:12px; color:var(--muted);}

    /* modal player */
    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); z-index:60; padding:18px;}
    .modal.open{display:flex;}
    .player-card{width:100%; max-width:720px; background:#000; border-radius:12px; overflow:hidden;}
    .player-header{display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#111;}
    .player-header h4{margin:0; font-size:14px;}
    .close-btn{background:transparent;border:0;color:var(--muted); font-size:20px; cursor:pointer;}
    video{width:100%; height:320px; background:#000; display:block;}
    .player-actions{padding:10px;}
    .player-actions small{color:var(--muted);}
  </style>
</head>
<body>

  <div class="container">
    <div class="greeting" id="greeting">Hello! Good morning.</div>

    <!-- Carousel -->
    <div class="carousel" id="carousel">
      <div class="carousel-track" id="carouselTrack">
        <div class="carousel-item" data-walink="https://chat.whatsapp.com/IbWWO9mim0rGCmVcA11CWI?mode=ems_copy_t">
          <img src="https://via.placeholder.com/800x400?text=Poster+1" alt="poster1" />
        </div>
        <div class="carousel-item" data-walink="https://chat.whatsapp.com/IbWWO9mim0rGCmVcA11CWI?mode=ems_copy_t">
          <img src="https://via.placeholder.com/800x400?text=Poster+2" alt="poster2" />
        </div>
        <div class="carousel-item" data-walink="https://chat.whatsapp.com/IbWWO9mim0rGCmVcA11CWI?mode=ems_copy_t">
          <img src="https://via.placeholder.com/800x400?text=Poster+3" alt="poster3" />
        </div>
      </div>
      <div class="carousel-dot-wrap" id="dots"></div>
    </div>

    <div class="section-title">Live Sports</div>

    <div class="grid" id="grid">
      <div class="card" data-title="EPL" data-link="https://cdn10khi.tamashaweb.com:8087/jazzauth/EPL-A-abr/playlist.m3u8">
        <img src="https://via.placeholder.com/200x120?text=EPL" alt="EPL" />
        <p>Premier League</p>
      </div>

      <div class="card" data-title="BAN vs AFG" data-link="https://cdn01isb-n.tamashaweb.com:8087/jazzauth/AFGVSBAN-abr/playlist.m3u8">
        <img src="https://via.placeholder.com/200x120?text=BAN+vs+AFG" alt="BANvsAFG" />
        <p>Bangladesh vs Afghanistan</p>
      </div>

      <div class="card" data-title="PTV Sports" data-link="https://ptvstream1.nayatel.com:8096/transcoder/ptvhometrc_source/chunks.m3u8">
        <img src="https://via.placeholder.com/200x120?text=PTV" alt="PTV" />
        <p>PTV Sports</p>
      </div>

      <div class="card" data-title="Ten Sports" data-link="https://cdn07isb.tamashaweb.com:8087/YlUHeDQb7a/157-3H/playlist.m3u8">
        <img src="https://via.placeholder.com/200x120?text=Ten+Sports" alt="TenSports" />
        <p>Ten Sports</p>
      </div>

      <div class="card" data-title="Eurosport" data-link="https://cdn.example.com/eurosport/stream.m3u8">
        <img src="https://via.placeholder.com/200x120?text=Eurosport" alt="eurosport" />
        <p>Eurosport</p>
      </div>
    </div>
  </div>

  <!-- Player modal -->
  <div id="modal" class="modal">
    <div class="player-card">
      <div class="player-header">
        <h4 id="playerTitle">Playing</h4>
        <button class="close-btn" id="closeBtn">âœ•</button>
      </div>
      <video id="video" controls playsinline webkit-playsinline></video>
      <div class="player-actions">
        <small id="streamUrl"></small>
      </div>
    </div>
  </div>

  <script>
    // Greeting by time
    function updateGreeting(){
      const el=document.getElementById('greeting');
      const hr=new Date().getHours();
      if(hr>=5&&hr<12) el.textContent="Good morning.";
      else if(hr>=12&&hr<17) el.textContent="Good afternoon.";
      else if(hr>=17&&hr<21) el.textContent="Good evening.";
      else el.textContent="Hello!";
    }
    updateGreeting();

    // Carousel
    const track=document.getElementById('carouselTrack');
    const items=Array.from(track.children);
    const dotsWrap=document.getElementById('dots');
    let current=0; let auto=null;

    items.forEach((it,i)=>{
      const d=document.createElement('div');
      d.className='dot'+(i===0?' active':'');
      d.onclick=()=>{goTo(i);resetAuto();};
      dotsWrap.appendChild(d);
    });
    function goTo(i){
      current=i;
      track.style.transform=`translateX(-${i*100}%)`;
      Array.from(dotsWrap.children).forEach((d,idx)=>d.classList.toggle('active',idx===i));
    }
    function nextSlide(){goTo((current+1)%items.length);}
    function resetAuto(){clearInterval(auto);auto=setInterval(nextSlide,4000);}
    resetAuto();
    items.forEach(it=>{
      it.onclick=()=>window.open(it.dataset.walink,'_blank');
    });

    // Player
    const modal=document.getElementById('modal');
    const video=document.getElementById('video');
    const playerTitle=document.getElementById('playerTitle');
    const streamUrl=document.getElementById('streamUrl');
    const closeBtn=document.getElementById('closeBtn');
    let hls=null;

    document.querySelectorAll('.card').forEach(card=>{
      card.onclick=()=>{
        const url=card.dataset.link;
        playerTitle.textContent=card.dataset.title;
        streamUrl.textContent=url;
        modal.classList.add('open');
        if(hls){hls.destroy();hls=null;}
        video.pause(); video.removeAttribute('src'); video.load();

        if(video.canPlayType('application/vnd.apple.mpegurl')){
          video.src=url; video.play();
        } else if(Hls.isSupported()){
          hls=new Hls(); hls.loadSource(url); hls.attachMedia(video);
          hls.on(Hls.Events.MANIFEST_PARSED,()=>video.play());
        } else alert('Browser not supported for HLS.');
      };
    });

    closeBtn.onclick=closeModal;
    modal.onclick=(e)=>{if(e.target===modal) closeModal();};
    function closeModal(){
      modal.classList.remove('open');
      if(hls){hls.destroy();hls=null;}
      video.pause(); video.removeAttribute('src'); video.load();
    }
  </script>
</body>
      </html>
