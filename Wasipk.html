<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wasi TV Developers â€” Live Pakistani Channels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Font Awesome for buttons -->
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.6/css/all.css">
  <!-- HLS.js -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  <style>
    :root {
      --primary: #e50914;
      --primary-dark: #b8070f;
      --dark-bg: #0b0f14;
      --dark-card: #161b25;
      --dark-card-hover: #1e2634;
      --text-primary: #ffffff;
      --text-secondary: #a0a0a0;
      --text-muted: #6c757d;
      --success: #28a745;
      --border-radius: 12px;
      --transition: all 0.3s ease;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      --player-max-height: 75vh;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--dark-bg);
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* Header */
    header {
      padding: 16px 20px;
      background: linear-gradient(to right, #111 0%, #222 100%);
      color: var(--text-primary);
      font-size: 20px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      color: var(--primary);
      font-size: 24px;
    }

    /* Player */
    .player-container {
      position: relative;
      max-width: 1280px;
      margin: 20px auto;
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
      z-index: 90;
    }

    /* Sticky player styles */
    .player-container.sticky {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      max-width: 100%;
      margin: 0;
      border-radius: 0;
      z-index: 99;
      animation: stickAnimation 0.3s ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .player-container.sticky .player-wrap {
      max-width: 1280px;
      margin: 0 auto;
    }

    .player-container.sticky video {
      max-height: 40vh;
    }

    .player-container.sticky .controls-container {
      display: none;
    }

    .player-container.sticky .logo-overlay {
      display: none;
    }

    @keyframes stickAnimation {
      from {
        transform: translateY(-10px);
        opacity: 0.9;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .player-wrap {
      position: relative;
      background: #000;
      width: 100%;
      margin: 0 auto;
      transition: var(--transition);
    }

    video {
      width: 100%;
      height: auto;
      background: black;
      max-height: var(--player-max-height);
      display: block;
      transition: var(--transition);
    }

    .channel-info {
      display: none; /* Channel info is now hidden */
    }

    /* Controls */
    .controls-container {
      background: var(--dark-card);
      padding: 15px;
      border-radius: 0 0 var(--border-radius) var(--border-radius);
      transition: var(--transition);
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      max-width: 600px;
      margin: 0 auto;
    }

    .controls button {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: var(--transition);
    }

    .controls button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    .controls button:active {
      transform: translateY(0);
    }

    .controls button.play-btn {
      background: var(--primary);
    }

    .controls button.play-btn:hover {
      background: var(--primary-dark);
    }

    /* Ads */
    .ad-section {
      max-width: 1280px;
      margin: 20px auto;
      padding: 0 15px;
    }

    .ad-row {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .ad {
      background: var(--dark-card);
      color: var(--text-muted);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--border-radius);
      overflow: hidden;
      transition: var(--transition);
    }

    .ad:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }

    .ad728 {
      width: 100%;
      max-width: 728px;
      height: 90px;
      display: none;
    }

    .ad300 {
      width: 100%;
      max-width: 300px;
      height: 250px;
      display: none;
    }

    .ad320 {
      width: 100%;
      max-width: 320px;
      height: 50px;
      display: flex;
    }

    /* Search */
    .search-container {
      max-width: 1280px;
      margin: 20px auto;
      padding: 0 15px;
    }

    #searchbar {
      width: 100%;
      max-width: 720px;
      padding: 12px 20px;
      margin: 0 auto;
      display: block;
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: var(--dark-card);
      color: var(--text-primary);
      font-size: 16px;
      transition: var(--transition);
    }

    #searchbar:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(229, 9, 20, 0.2);
    }

    #searchbar::placeholder {
      color: var(--text-muted);
    }

    /* Channel grid */
    .channels-section {
      max-width: 1280px;
      margin: 20px auto;
      padding: 0 15px;
    }

    .section-title {
      font-size: 22px;
      color: var(--text-primary);
      margin: 0 0 20px 15px;
      font-weight: 600;
    }

    .channel-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 18px;
    }

    .channel-item {
      background: var(--dark-card);
      border-radius: var(--border-radius);
      padding: 15px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .channel-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, var(--primary), var(--primary-dark));
      opacity: 0;
      transition: var(--transition);
    }

    .channel-item img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid rgba(255, 255, 255, 0.1);
      transition: var(--transition);
    }

    .channel-item h4 {
      margin: 12px 0 0;
      font-size: 14px;
      color: var(--text-primary);
      font-weight: 500;
      transition: var(--transition);
    }

    .channel-item:hover {
      background: var(--dark-card-hover);
      transform: translateY(-5px);
      box-shadow: var(--shadow);
    }

    .channel-item:hover::before {
      opacity: 1;
    }

    .channel-item:hover img {
      border-color: var(--primary);
      transform: scale(1.05);
    }

    .channel-item.active {
      background: var(--dark-card-hover);
      outline: 2px solid var(--primary);
    }

    .channel-item.active::before {
      opacity: 1;
    }

    /* Channel grid ads */
    .channel-ad {
      grid-column: 1 / -1;
      display: flex;
      justify-content: center;
      margin: 15px 0;
    }
    
    .channel-ad.desktop-ad {
      display: none;
    }
    
    .channel-ad.mobile-ad {
      display: flex;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 25px 15px;
      font-size: 14px;
      color: var(--text-muted);
      background: var(--dark-card);
      margin-top: 40px;
    }

    /* Responsive */
    @media (min-width: 768px) {
      .ad728, .ad300 {
        display: flex;
      }
      
      .ad320 {
        display: none;
      }
      
      .channel-ad.desktop-ad {
        display: flex;
      }
      
      .channel-ad.mobile-ad {
        display: none;
      }
      
      header {
        padding: 16px 30px;
      }
    }

    @media (max-width: 600px) {
      .channel-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 15px;
      }
      
      .controls button {
        padding: 8px 12px;
        font-size: 13px;
      }
      
      .section-title {
        font-size: 20px;
        margin-left: 10px;
      }
      
      .player-container.sticky video {
        max-height: 30vh;
      }
    }

    /* Loading animation */
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1;
      }
    }

    .loading {
      animation: pulse 1.5s ease-in-out infinite;
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--dark-bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--dark-card);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--dark-card-hover);
    }
    
    .logo-overlay {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 20;
    }
    
    .logo-overlay img {
      height: 20px;
      border-radius: 8px;
    }
    
    /* Sticky player spacer to prevent content jump */
    .player-spacer {
      display: none;
      height: 0;
      transition: height 0.3s ease;
    }
    
    .player-spacer.active {
      display: block;
      height: calc(40vh + 20px);
    }
    
    @media (max-width: 600px) {
      .player-spacer.active {
        height: calc(30vh + 20px);
      }
    }
  </style>
</head>
<body>
  <!-- ===== Footer Navigation Bar ===== -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  .footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #111;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 8px 0;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.3);
    z-index: 999;
  }

  .footer a {
    color: #bbb;
    text-decoration: none;
    font-size: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: 0.3s;
  }

  .footer a i {
    font-size: 18px;
    margin-bottom: 3px;
  }

  .footer a:hover,
  .footer a.active {
    color: #fff;
  }
</style>

<div class="footer">
  <a href="index.html" class="active">
    <i class="fa-solid fa-tv"></i>
    <span>Live TV</span>
  </a>
  <a href="info.html">
    <i class="fa-solid fa-circle-info"></i>
    <span>Info</span>
  </a>
  <a href="series.html">
    <i class="fa-solid fa-film"></i>
    <span>Series</span>
  </a>
</div>
<marquee 
â€Ž    style="
â€Ž      color:#fff; 
â€Ž      font-size:20px; 
â€Ž      font-family:'Poppins', sans-serif; 
â€Ž      background: linear-gradient(90deg, #000000, #1a1a1a); 
â€Ž      line-height:50px; 
â€Ž      height:50px; 
â€Ž      padding:0 10px; 
â€Ž      border-top:2px solid #ff9800;
â€Ž      border-bottom:2px solid #ff9800;
â€Ž      letter-spacing:1px;
â€Ž      text-shadow:0px 0px 6px rgba(255, 152, 0, 0.8);
â€Ž    " 
â€Ž    direction="left" 
â€Ž    scrollamount="6">
â€Ž    If you want same iptv we'll provide you in just 4500pkr contact +923376143010(wasi tv)
â€Ž  </marquee>
  <!-- Player spacer to prevent content jump when player becomes sticky -->
  <div class="player-spacer" id="playerSpacer"></div>

  <div class="player-container" id="playerContainer">
    <div class="player-wrap">
    	<div class="logo-overlay">
        <img src="https://i.postimg.cc/HLfMJrJY/20251004-175252.jpg" alt="Shaheen TV">
      </div>
      <video id="videoplayer" controls playsinline poster="https://i.postimg.cc/Y0ss5Nn3/20251004-173107.jpg"></video>
      <div class="channel-info" id="channelInfo"></div>
    </div>
    
    <div class="controls-container">
      <div class="controls">
        <button onclick="seek(-30)"><i class="fas fa-step-backward"></i> 30s</button>
        <button onclick="seek(-10)"><i class="fas fa-backward"></i> 10s</button>
        <button onclick="playVideo()" class="play-btn"><i class="fas fa-play"></i> Play</button>
        <button onclick="video.pause()"><i class="fas fa-pause"></i> Pause</button>
        <button onclick="requestFS()"><i class="fas fa-expand"></i> Fullscreen</button>
      </div>
    </div>
  </div>

  <div class="channels-section">
    <h2 class="section-title">Live Channels</h2>
    <div class="channel-grid" id="channelContainer">
      <!-- Channel items remain the same as in your original code -->
      <!-- I've removed them here for brevity but they should be included in your actual implementation -->


    <!-- === Sports & News Channels === -->
<div class="channel-item" onclick="changeChannel('AFGVSBAN-abr', this, 'AFGVSBAN-promo')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1759745644401.webp?id=10" alt="Ban vs Afg">
  <h4>Ban Vs Afg <font size="2" color="red">ODI SERIES</font></h4>
</div>

<div class="channel-item" onclick="changeChannel('U19W-Final-abr', this, 'WU19-final')">
  <div class="live-indicator">LIVE NOW</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1759903675676.webp?id=18" alt="Women's U19 T20">
  <h4>Women's U19 T20</h4>
</div>

<div class="channel-item" onclick="changeChannel('https://premierleagpl23.akamaized.net/hls/live/2107108/Tapmad301-PTV/level_2.m3u8', this, 'NCL LIVE')">
  <div class="live-indicator">STREAMING</div>
  <img decoding="async" src="https://i.postimg.cc/02h4MBsR/images-19993855753.jpg" alt="NCL LIVE">
  <h4>NCL LIVE</h4>
</div>

<div class="channel-item" onclick="changeChannel('https://cdn19lhr.tamashaweb.com:8087/jazzauth/WOMENWC2025-abr/live/WWC2025_360p/chunks.m3u8', this, 'ICC Women Cric Worldcup')">
  <div class="live-indicator">LIVE NOW</div>
  <img decoding="async" src="https://i.postimg.cc/tJKJhJY9/1758878239255.webp" alt="ICC Women Cric Worldcup">
  <h4>ICC Women Cric Worldcup</h4>
</div>

<div class="channel-item" onclick="changeChannel('DawnNews-abr', this, 'Dawn News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716817.webp?id=39" alt="Dawn News">
  <h4>Dawn News</h4>
</div>

<div class="channel-item" onclick="changeChannel('geoNews-abr', this, 'Geo News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716880.webp?id=55" alt="Geo News">
  <h4>Geo News</h4>
</div>

<div class="channel-item" onclick="changeChannel('PTVNews-abr', this, 'PTV News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1750321733810.webp?id=85" alt="PTV News">
  <h4>PTV News</h4>
</div>

<div class="channel-item" onclick="changeChannel('ARYnews-abr', this, 'ARY News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716722.webp?id=18" alt="ARY News">
  <h4>ARY News</h4>
</div>

<div class="channel-item" onclick="changeChannel('samaaTV-abr', this, 'Samaa TV')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716978.webp?id=65" alt="Samaa TV">
  <h4>Samaa TV</h4>
</div>

<div class="channel-item" onclick="changeChannel('AajNews-abr', this, 'AAJ News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/poster/aaj-news-live.webp?id=77" alt="AAJ News">
  <h4>AAJ News</h4>
</div>

<div class="channel-item" onclick="changeChannel('ExpressNews-abr', this, 'Express News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716853.webp?id=38" alt="Express News">
  <h4>Express News</h4>
</div>

<div class="channel-item" onclick="changeChannel('BolNews-abr', this, 'BOL News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1707716778.webp?id=35" alt="BOL News">
  <h4>BOL News</h4>
</div>

<div class="channel-item" onclick="changeChannel('24News-abr', this, '24 NEWS HD')">
  <div class="live-indicator">LIVE NOW</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/poster/channel-24-live.webp?id=47" alt="24 NEWS HD">
  <h4>24 NEWS HD</h4>
</div>

<div class="channel-item" onclick="changeChannel('Suno_News-abr', this, 'Suno News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/1709545345.webp?id=85" alt="Suno News">
  <h4>Suno News</h4>
</div>

<div class="channel-item" onclick="changeChannel('GTVNews-abr', this, 'GTV News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/gtv-new.webp?id=50" alt="GTV News">
  <h4>GTV News</h4>
</div>

<div class="channel-item" onclick="changeChannel('PublicTV-abr', this, 'Public News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/poster/public-news-live.webp?id=14" alt="Public News">
  <h4>Public News</h4>
</div>
<!-- === Entertainment Channels === -->
<div class="channel-item" onclick="changeChannel('HumTV-abr', this, 'Hum TV')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716915.webp?id=60" alt="Hum TV">
  <h4>Hum TV</h4>
</div>

<div class="channel-item" onclick="changeChannel('ARYDigital-abr', this, 'ARY Digital')">
  <div class="live-indicator">NOW STREAMING</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716710.webp?id=12" alt="ARY Digital">
  <h4>ARY Digital</h4>
</div>

<div class="channel-item" onclick="changeChannel('GeoEntertainment-abr', this, 'Geo Entertainment')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716865.webp?id=56" alt="Geo Entertainment">
  <h4>Geo Entertainment</h4>
</div>

<div class="channel-item" onclick="changeChannel('ExpressEntertainment-abr', this, 'Express Entertainment')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716839.webp?id=37" alt="Express Entertainment">
  <h4>Express Entertainment</h4>
</div>

<div class="channel-item" onclick="changeChannel('TVOne-abr', this, 'TV One')">
  <div class="live-indicator">STREAMING</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716992.webp?id=68" alt="TV One">
  <h4>TV One</h4>
</div>

<div class="channel-item" onclick="changeChannel('APlus-abr', this, 'A Plus TV')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716701.webp?id=11" alt="A Plus TV">
  <h4>A Plus TV</h4>
</div>

<div class="channel-item" onclick="changeChannel('Urdu1-abr', this, 'Urdu 1')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707717011.webp?id=69" alt="Urdu 1">
  <h4>Urdu 1</h4>
</div>

<div class="channel-item" onclick="changeChannel('TVKahani-abr', this, 'TV Kahani')">
  <div class="live-indicator">NOW STREAMING</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707717001.webp?id=67" alt="TV Kahani">
  <h4>TV Kahani</h4>
</div>

<!-- === Kids Channels === -->
<div class="channel-item" onclick="changeChannel('CartoonNetwork-abr', this, 'Cartoon Network')">
  <div class="live-indicator">FUN LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716798.webp?id=33" alt="Cartoon Network">
  <h4>Cartoon Network</h4>
</div>

<div class="channel-item" onclick="changeChannel('Nickelodeon-abr', this, 'Nickelodeon')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716953.webp?id=63" alt="Nickelodeon">
  <h4>Nickelodeon</h4>
</div>

<div class="channel-item" onclick="changeChannel('Toonami-abr', this, 'Toonami')">
  <div class="live-indicator">STREAMING</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716982.webp?id=66" alt="Toonami">
  <h4>Toonami</h4>
</div>

<!-- === Religious Channels === -->
<div class="channel-item" onclick="changeChannel('Madani-abr', this, 'Madani Channel')">
  <div class="live-indicator">SPIRITUAL LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1758001915364.webp?id=8" alt="Madani Channel">
  <h4>Madani Channel</h4>
</div>

<div class="channel-item" onclick="changeChannel('PeaceTV-abr', this, 'Peace TV Urdu')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716933.webp?id=59" alt="Peace TV Urdu">
  <h4>Peace TV Urdu</h4>
</div>

<!-- === Regional Channels === -->
<div class="channel-item" onclick="changeChannel('SindhTV-abr', this, 'Sindh TV News')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716966.webp?id=64" alt="Sindh TV News">
  <h4>Sindh TV News</h4>
</div>

<div class="channel-item" onclick="changeChannel('KhyberTV-abr', this, 'Khyber TV')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716944.webp?id=62" alt="Khyber TV">
  <h4>Khyber TV</h4>
</div>

<div class="channel-item" onclick="changeChannel('KTN-abr', this, 'KTN Entertainment')">
  <div class="live-indicator">STREAMING</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716924.webp?id=61" alt="KTN Entertainment">
  <h4>KTN Entertainment</h4>
</div>

<div class="channel-item" onclick="changeChannel('Pashto1-abr', this, 'Pashto 1')">
  <div class="live-indicator">LIVE</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707716940.webp?id=58" alt="Pashto 1">
  <h4>Pashto 1</h4>
</div>

<div class="channel-item" onclick="changeChannel('VSHNews-abr', this, 'VSH News')">
  <div class="live-indicator">ON AIR</div>
  <img decoding="async" src="https://canvas.tamashaweb.com/jazzlive/uploads/channels/logo/1707717017.webp?id=70" alt="VSH News">
  <h4>VSH News</h4>
</div>
      
  </div>

  <footer>Powered by Wasi TV Developers</footer>

  <script>
    let video = document.getElementById('videoplayer');
    let hls, currentChannel = null;
    const channelInfo = document.getElementById('channelInfo');
    const playerContainer = document.getElementById('playerContainer');
    const playerSpacer = document.getElementById('playerSpacer');

    // Remove auto-play on page load
    window.addEventListener('load', function() {
      // Add scroll event listener for sticky player
      window.addEventListener('scroll', handleScroll);
    });

    function handleScroll() {
      const scrollPosition = window.scrollY;
      const playerHeight = playerContainer.offsetHeight;
      
      // Add sticky class when scrolled past the player
      if (scrollPosition > playerHeight) {
        playerContainer.classList.add('sticky');
        playerSpacer.classList.add('active');
      } else {
        playerContainer.classList.remove('sticky');
        playerSpacer.classList.remove('active');
      }
    }

    function changeChannel(channel, el, channelName) {
      // Channel info is now hidden, so we don't update it
      channelInfo.style.display = 'none';
      
      // reset active highlight
      document.querySelectorAll('.channel-item').forEach(c => c.classList.remove('active'));
      if(el) el.classList.add('active');

      // build URL
      let src = channel.startsWith('http') ? 
        (channel.endsWith('.m3u8') ? channel : channel + '/playlist.m3u8') :
        `https://cdn07isb.tamashaweb.com:8087/jazzauth/${channel}/playlist.m3u8`;
      currentChannel = src;

      // destroy old hls
      if(hls){ hls.destroy(); hls=null; }

      if(Hls.isSupported()) {
        hls = new Hls();
        hls.loadSource(src);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          // Remove auto-play here - video will not play automatically
          // User must click the play button to start playback
        });
        
        hls.on(Hls.Events.ERROR, (event, data) => {
          if (data.fatal) {
            console.error("Error loading channel:", channelName);
          }
        });
      } else if(video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = src;
        // Remove auto-play for Safari as well
      } else {
        alert("Your browser does not support HLS playback.");
      }
    }

    // New function to play video when play button is clicked
    function playVideo() {
      if (video.paused) {
        video.play().catch(e => {
          console.log("Play prevented:", e);
        });
      }
    }

    function seek(sec){ 
      video.currentTime += sec; 
      
      // Show visual feedback for seeking
      const indicator = document.createElement('div');
      indicator.style.position = 'absolute';
      indicator.style.bottom = '50%';
      indicator.style.left = '50%';
      indicator.style.transform = 'translate(-50%, -50%)';
      indicator.style.background = 'rgba(0, 0, 0, 0.7)';
      indicator.style.color = 'white';
      indicator.style.padding = '10px 15px';
      indicator.style.borderRadius = '5px';
      indicator.style.zIndex = '100';
      indicator.innerText = sec > 0 ? `+${sec} seconds` : `${sec} seconds`;
      
      document.querySelector('.player-wrap').appendChild(indicator);
      
            setTimeout(() => {
        indicator.remove();
      }, 1000);
    }
    
    function requestFS(){ 
      if(video.requestFullscreen) {
        video.requestFullscreen();
      } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen();
      } else if (video.msRequestFullscreen) {
        video.msRequestFullscreen();
      }
    }

    function searchChannels(){
      let q = document.getElementById('searchbar').value.toLowerCase();
      document.querySelectorAll('.channel-item').forEach(i => {
        i.style.display = i.innerText.toLowerCase().includes(q) ? 'block' : 'none';
      });
    }
  </script>
</body>
</html>
